---
page_title: "microsoft365wp_mobility_management_policy Resource - microsoft365wp"
subcategory: "MS Graph: App management"
---

# microsoft365wp_mobility_management_policy (Resource)

In Microsoft Entra ID, a mobility management policy represents an autoenrollment configuration for a mobility management (MDM or MAM) application. These policies are only applicable to devices based on Windows 10 OS and its derivatives (Surface Hub, HoloLens etc.). [Autoenrollment](/windows/client-management/mdm/azure-ad-and-microsoft-intune-automatic-mdm-enrollment-in-the-new-portal) enables organizations to automatically enroll devices into their chosen mobility management application as part of [Microsoft Entra join](/azure/active-directory/devices/concept-azure-ad-join) or [Microsoft Entra register](/azure/active-directory/devices/concept-azure-ad-register) process on Windows 10 devices. / https://learn.microsoft.com/en-us/graph/api/resources/mobilitymanagementpolicy?view=graph-rest-beta

Provider Note: Please note that MS Graph does currently (as of 2025-02) not allow to update (or even read) this entity using
application permissions but only using work or school account delegated permissions (also see
https://learn.microsoft.com/en-us/graph/api/mobiledevicemanagementpolicies-get?view=graph-rest-beta#permissions).

## Documentation Disclaimer

Please note that almost all information on this page has been sourced literally from the official Microsoft Graph API 
documentation and therefore is governed by Microsoft and not by the publishers of this provider.  
All supplements authored by the publishers of this provider have been explicitly marked as such.

## Example Usage

```terraform
terraform {
  required_providers {
    microsoft365wp = {
      source = "terraprovider/microsoft365wp"
    }
  }
}


data "azuread_application_published_app_ids" "well_known" {}

locals {
  device = {
    applies_to = "all" # "all", "selected" or "none"
    groups = [
      "298fded6-b252-4166-a473-f405e935f58d",
      "62e39046-aad3-4423-98e0-b486e3538aff",
    ]
  }
  app = {
    applies_to = "all" # "all", "selected" or "none"
    groups = [
      "298fded6-b252-4166-a473-f405e935f58d",
    ]
  }
}

resource "microsoft365wp_mobility_management_policy" "device" {
  policy_type = "device"
  id          = data.azuread_application_published_app_ids.well_known.result.MicrosoftIntune

  terms_of_use_url = "https://portal.manage.microsoft.com/TermsofUse.aspx"
  discovery_url    = "https://enrollment.manage.microsoft.com/enrollmentserver/discovery.svc"
  compliance_url   = "https://portal.manage.microsoft.com/?portalAction=Compliance"

  applies_to      = local.device.applies_to
  included_groups = local.device.applies_to == "selected" ? [for i in local.device.groups : { id = i }] : []
}

resource "microsoft365wp_mobility_management_policy" "app" {
  policy_type = "app"
  id          = data.azuread_application_published_app_ids.well_known.result.MicrosoftIntune

  discovery_url = "https://wip.mam.manage.microsoft.com/Enroll"

  applies_to      = local.app.applies_to
  included_groups = local.app.applies_to == "selected" ? [for i in local.app.groups : { id = i }] : []
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) Object Id of the mobility management application.
- `policy_type` (String) Provider Note: Type of policy - must either be `device` or `app`

### Optional

- `applies_to` (String) Indicates the user scope of the mobility management policy. / Possible values are: `none`, `all`, `selected`, `unknownFutureValue`. The _provider_ default value is `"all"`.  
Provider Note: Please note that this attribute's value must be `selected` if `included_groups` contains any entries.
- `compliance_url` (String) Compliance URL of the mobility management application.
- `discovery_url` (String) Discovery URL of the mobility management application.
- `included_groups` (Attributes Set) Microsoft Entra groups under the scope of the mobility management application if appliesTo is `selected` / Represents a Microsoft Entra group, which can be a Microsoft 365 group, a team in Microsoft Teams, or a security group. This resource is an open type that allows other properties to be passed in.

For performance reasons, the [create](../api/group-post-groups.md), [get](../api/group-get.md), and [list](../api/group-list.md) operations return only a subset of more commonly used properties by default. These _default_ properties are noted in the [Properties](#properties) section. To get any of the properties not returned by default, specify them in a `$select` OData query option.

This resource supports: / https://learn.microsoft.com/en-us/graph/api/resources/group?view=graph-rest-beta. The _provider_ default value is `[]`.  
Provider Note: Please note that this attribute's must not contain any entries if `applies_to` is `none` or `all`. (see [below for nested schema](#nestedatt--included_groups))
- `terms_of_use_url` (String) Terms of Use URL of the mobility management application.

### Read-Only

- `description` (String) Description of the mobility management application.
- `display_name` (String) Display name of the mobility management application.
- `is_valid` (Boolean) Whether policy is valid. Invalid policies may not be updated and should be deleted.

<a id="nestedatt--included_groups"></a>
### Nested Schema for `included_groups`

Required:

- `id` (String) The unique identifier for the group. <br><br>Returned by default. Key. Not nullable. Read-only. <br><br>Supports `$filter` (`eq`, `ne`, `not`, `in`).

Read-Only:

- `display_name` (String) The display name for the group. Required. Maximum length is 256 characters. <br><br>Returned by default. Supports `$filter` (`eq`, `ne`, `not`, `ge`, `le`, `in`, `startsWith`, and `eq` on `null` values), `$search`, and `$orderby`.
