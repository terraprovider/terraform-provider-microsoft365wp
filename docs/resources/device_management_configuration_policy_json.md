---
page_title: "microsoft365wp_device_management_configuration_policy_json Resource - microsoft365wp"
subcategory: "MS Graph: Device configuration"
---

# microsoft365wp_device_management_configuration_policy_json (Resource)

Device Management Configuration Policy / https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfigv2-devicemanagementconfigurationpolicy?view=graph-rest-beta

## Documentation Disclaimer

Please note that almost all information on this page has been sourced literally from the official Microsoft Graph API 
documentation and therefore is governed by Microsoft and not by the publishers of this provider.  
All supplements authored by the publishers of this provider have been explicitly marked as such.

## Example Usage

```terraform
terraform {
  required_providers {
    microsoft365wp = {
      source = "terraprovider/microsoft365wp"
    }
  }
}

/*
.env
export ARM_TENANT_ID='...'
export ARM_CLIENT_ID='...'
export ARM_CLIENT_SECRET='...'
*/


resource "microsoft365wp_device_management_configuration_policy_json" "test1" {
  name = "TF Test JSON 1"

  settings_json = [for x in [
    {
      "@odata.type"       = "#microsoft.graph.deviceManagementConfigurationChoiceSettingInstance",
      settingDefinitionId = "device_vendor_msft_bitlocker_requiredeviceencryption",
      choiceSettingValue = {
        value = "device_vendor_msft_bitlocker_requiredeviceencryption_0",
      }
    },
    {
      "@odata.type"       = "#microsoft.graph.deviceManagementConfigurationChoiceSettingInstance"
      settingDefinitionId = "device_vendor_msft_policy_config_microsoft_edgev78diff~policy~microsoft_edge_adssettingforintrusiveadssites"
      choiceSettingValue = {
        value = "device_vendor_msft_policy_config_microsoft_edgev78diff~policy~microsoft_edge_adssettingforintrusiveadssites_1"
        children = [
          {
            "@odata.type"       = "#microsoft.graph.deviceManagementConfigurationChoiceSettingInstance"
            settingDefinitionId = "device_vendor_msft_policy_config_microsoft_edgev78diff~policy~microsoft_edge_adssettingforintrusiveadssites_adssettingforintrusiveadssites"
            choiceSettingValue = {
              value = "device_vendor_msft_policy_config_microsoft_edgev78diff~policy~microsoft_edge_adssettingforintrusiveadssites_adssettingforintrusiveadssites_2"
            }
          }
        ]
      }
    },
  ] : jsonencode(x)]

  assignments = [
    for x in [
      "298fded6-b252-4166-a473-f405e935f58d",
      "62e39046-aad3-4423-98e0-b486e3538aff",
    ] :
    { target = { group = { group_id = x } } }
  ]
}

resource "microsoft365wp_device_management_configuration_policy_json" "test2" {
  name = "TF Test JSON 2"

  settings_json = [for x in [
    {
      "@odata.type"       = "#microsoft.graph.deviceManagementConfigurationSimpleSettingCollectionInstance"
      settingDefinitionId = "device_vendor_msft_policy_config_defender_excludedpaths"
      simpleSettingCollectionValue = [
        for path in [
          "C:\\Windows",
          "C:\\Temp",
        ] :
        {
          "@odata.type" = "#microsoft.graph.deviceManagementConfigurationStringSettingValue"
          value         = path
        }
      ]
    }
  ] : jsonencode(x)]

  assignments = [
    { target = { all_devices = {} } },
    { target = { all_licensed_users = {} } },
    { target = { exclusion_group = { group_id = "62e39046-aad3-4423-98e0-b486e3538aff" } } },
  ]
}

resource "microsoft365wp_device_management_configuration_policy_json" "test_firewall" {
  name         = "TF Test JSON Firewall"
  technologies = "mdm,microsoftSense"
  template_reference = {
    template_id = "6078910e-d808-4a9f-a51d-1b8a7bacb7c0_1"
  }

  settings_json = [for x in [
    {
      "@odata.type" = "#microsoft.graph.deviceManagementConfigurationChoiceSettingInstance"
      settingInstanceTemplateReference = {
        settingInstanceTemplateId = "38329af6-2670-4a71-972d-482010ca97fc"
      }
      settingDefinitionId = "vendor_msft_firewall_mdmstore_global_disablestatefulftp"
      choiceSettingValue = {
        settingValueTemplateReference = {
          settingValueTemplateId = "559f6e01-53a9-4c10-9f10-d09d8fe7f903"
          useTemplateDefault     = false
        }
        value = "vendor_msft_firewall_mdmstore_global_disablestatefulftp_true"
      }
    }
  ] : jsonencode(x)]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Policy name
- `settings_json` (Set of String) Policy settings

### Optional

- `assignments` (Attributes Set) The list of assignments. (see [below for nested schema](#nestedatt--assignments))
- `description` (String) Policy description
- `platforms` (String) Platforms for this policy. / Supported platform types; possible values are: `none` (Default. No platform type specified.), `android` (Settings for Android platform.), `iOS` (Settings for iOS platform.), `macOS` (Settings for MacOS platform.), `windows10X` (Windows 10 X.), `windows10` (Settings for Windows 10 platform.), `linux` (Settings for Linux platform.), `unknownFutureValue` (Evolvable enumeration sentinel value. Do not use.), `androidEnterprise` (Settings for Corporate Owned Android Enterprise devices.), `aosp` (Settings for Android Open Source Project platform.). The _provider_ default value is `"windows10"`.
- `role_scope_tag_ids` (Set of String) List of Scope Tags for this Entity instance. The _provider_ default value is `["0"]`.
- `technologies` (String) Technologies for this policy. / Describes which technology this setting can be deployed with; possible values are: `none` (Default. Indicates the setting cannot be deployed through any channel.), `mdm` (Indicates the settings that can be deployed through the Mobile Device Management (MDM) channel.), `windows10XManagement` (Indicates the settings that can be deployed through the Windows10XManagement channel.), `configManager` (Indicates the settings that can be deployed through the ConfigManager channel.), `intuneManagementExtension`, `thirdParty`, `documentGateway`, `appleRemoteManagement` (Indicates the settings that can be deployed through the AppleRemoteManagement channel.), `microsoftSense` (Indicates the settings that can be deployed through the SENSE agent channel.), `exchangeOnline` (Indicates the settings that can be deployed through the Exchange Online agent channel.), `mobileApplicationManagement` (Indicates the settings that can be deployed through the Mobile Application Management (MAM) channel.), `linuxMdm` (Indicates the settings that can be deployed through the Linux Mobile Device Management (MDM) channel.), `enrollment` (Indicates the settings that can be deployed through device enrollment.), `endpointPrivilegeManagement` (Indicates the settings that can be deployed through the Endpoint privilege management channel.), `unknownFutureValue` (Evolvable enumeration sentinel value. Do not use.), `windowsOsRecovery` (Indicates the settings that can be applied during a Windows operating system recovery. Such as accept license, base language, create recovery partition, format disk, keyboard settings.), `android` (Indicates the settings that can be deployed through the Android channel.). The _provider_ default value is `"mdm"`.
- `template_reference` (Attributes) Template reference information / Policy template reference information / https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfigv2-devicemanagementconfigurationpolicytemplatereference?view=graph-rest-beta. The _provider_ default value is `{}`. (see [below for nested schema](#nestedatt--template_reference))

### Read-Only

- `created_date_time` (String) Policy creation date and time
- `creation_source` (String) Policy creation source
- `id` (String) Key of the policy document. Automatically generated.
- `is_assigned` (Boolean) Policy assignment status. This property is read-only.
- `last_modified_date_time` (String) Policy last modification date and time
- `setting_count` (Number) Number of settings

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `target` (Attributes) Base type for assignment targets. / https://learn.microsoft.com/en-us/graph/api/resources/intune-shared-deviceandappmanagementassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target))

<a id="nestedatt--assignments--target"></a>
### Nested Schema for `assignments.target`

Optional:

- `all_devices` (Attributes) Represents an assignment to all managed devices in the tenant. / https://learn.microsoft.com/en-us/graph/api/resources/intune-shared-alldevicesassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--all_devices))
- `all_licensed_users` (Attributes) Represents an assignment to all licensed users in the tenant. / https://learn.microsoft.com/en-us/graph/api/resources/intune-shared-alllicensedusersassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--all_licensed_users))
- `exclusion_group` (Attributes) Represents a group that should be excluded from an assignment. / https://learn.microsoft.com/en-us/graph/api/resources/intune-shared-exclusiongroupassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--exclusion_group))
- `filter_id` (String) The ID of the filter for the target assignment.
- `filter_type` (String) The type of filter of the target assignment i.e. Exclude or Include. / Represents type of the assignment filter; possible values are: `none` (Default value. Do not use.), `include` (Indicates in-filter, rule matching will offer the payload to devices.), `exclude` (Indicates out-filter, rule matching will not offer the payload to devices.). The _provider_ default value is `"none"`.
- `group` (Attributes) Represents an assignment to a group. / https://learn.microsoft.com/en-us/graph/api/resources/intune-shared-groupassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--group))

<a id="nestedatt--assignments--target--all_devices"></a>
### Nested Schema for `assignments.target.all_devices`


<a id="nestedatt--assignments--target--all_licensed_users"></a>
### Nested Schema for `assignments.target.all_licensed_users`


<a id="nestedatt--assignments--target--exclusion_group"></a>
### Nested Schema for `assignments.target.exclusion_group`

Required:

- `group_id` (String) The group Id that is the target of the assignment.


<a id="nestedatt--assignments--target--group"></a>
### Nested Schema for `assignments.target.group`

Required:

- `group_id` (String) The group Id that is the target of the assignment.




<a id="nestedatt--template_reference"></a>
### Nested Schema for `template_reference`

Optional:

- `template_id` (String) Template id. The _provider_ default value is `""`.

Read-Only:

- `template_display_name` (String) Template Display Name of the referenced template. This property is read-only.
- `template_display_version` (String) Template Display Version of the referenced Template. This property is read-only.
- `template_family` (String) Template Family of the referenced Template. This property is read-only. / Describes the TemplateFamily for the Template entity; possible values are: `none` (Default for Template Family when Policy is not linked to a Template), `endpointSecurityAntivirus` (Template Family for EndpointSecurityAntivirus that manages the discrete group of antivirus settings for managed devices), `endpointSecurityDiskEncryption` (Template Family for EndpointSecurityDiskEncryption that provides settings that are relevant for a devices built-in encryption  method, like FileVault or BitLocker), `endpointSecurityFirewall` (Template Family for EndpointSecurityFirewall that helps configure a devices built-in firewall for device that run macOS and Windows 10), `endpointSecurityEndpointDetectionAndResponse` (Template Family for EndpointSecurityEndpointDetectionAndResponse that facilitates management of the EDR settings and onboard devices to Microsoft Defender for Endpoint), `endpointSecurityAttackSurfaceReduction` (Template Family for EndpointSecurityAttackSurfaceReduction that help reduce your attack surfaces, by minimizing the places where your organization is vulnerable to cyberthreats and attacks), `endpointSecurityAccountProtection` (Template Family for EndpointSecurityAccountProtection that facilitates protecting the identity and accounts of users), `endpointSecurityApplicationControl` (Template Family for ApplicationControl that helps mitigate security threats by restricting the applications that users can run and the code that runs in the System Core (kernel)), `endpointSecurityEndpointPrivilegeManagement` (Template Family for EPM Elevation Rules), `enrollmentConfiguration` (Template Family for EnrollmentConfiguration), `appQuietTime` (Template Family for QuietTimeIndicates Template Family for all the Apps QuietTime policies and templates), `baseline` (Template Family for Baseline), `unknownFutureValue` (Evolvable enumeration sentinel value. Do not use.), `deviceConfigurationScripts` (Template Family for device configuration scripts), `deviceConfigurationPolicies` (Template Family for device configuration policies), `windowsOsRecoveryPolicies` (Template Family for windowsOsRecovery that can be applied during a Windows operating system recovery), `companyPortal` (Template Family for Company Portal settings)
