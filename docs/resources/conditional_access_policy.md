---
page_title: "microsoft365wp_conditional_access_policy Resource - microsoft365wp"
subcategory: "MS Graph: Conditional access"
---

# microsoft365wp_conditional_access_policy (Resource)

Represents a Microsoft Entra Conditional Access policy. Conditional access policies are custom rules that define an access scenario. For more information, see the [Conditional access documentation](/azure/active-directory/conditional-access/). / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccesspolicy?view=graph-rest-beta

## Documentation Disclaimer

Please note that almost all information on this page has been sourced literally from the official Microsoft Graph API 
documentation and therefore is governed by Microsoft and not by the publishers of this provider.  
All supplements authored by the publishers of this provider have been explicitly marked as such.

## Example Usage

```terraform
terraform {
  required_providers {
    microsoft365wp = {
      source = "terraprovider/microsoft365wp"
    }
  }
}

/*
.env
export ARM_TENANT_ID='...'
export ARM_CLIENT_ID='...'
export ARM_CLIENT_SECRET='...'
*/


resource "microsoft365wp_conditional_access_policy" "test_grant" {
  display_name = "TF Test Grant"
  conditions = {
    applications = {
      include_applications = ["None"]
    }
    users = {
      include_users = ["None"]
    }
  }
  grant_controls = {
    operator                = "AND"
    authentication_strength = { id = "00000000-0000-0000-0000-000000000004" }
    built_in_controls       = ["compliantDevice"]
  }
}

resource "microsoft365wp_conditional_access_policy" "test_session" {
  display_name = "TF Test Session"
  conditions = {
    applications = {
      include_applications = ["None"]
    }
    users = {
      include_users = ["298fded6-b252-4166-a473-f405e935f58d"]
      include_guests_or_external_users = {
        external_tenants = {
          membership_kind = "all"
          all             = {}
        }
        guest_or_external_user_types = "b2bCollaborationGuest,b2bCollaborationMember,b2bDirectConnectUser"
      }
      exclude_guests_or_external_users = {
        external_tenants = {
          membership_kind = "enumerated"
          enumerated = {
            members = ["62e39046-aad3-4423-98e0-b486e3538aff"]
          }
        }
        guest_or_external_user_types = "internalGuest,b2bCollaborationGuest,b2bCollaborationMember,b2bDirectConnectUser,otherExternalUser,serviceProvider"
      }
    }
  }
  session_controls = {
    sign_in_frequency = {
      authentication_type = "primaryAndSecondaryAuthentication"
      frequency_interval  = "timeBased"
      value               = 10
      type                = "hours"
      is_enabled          = true
    }
    disable_resilience_defaults = true
  }
}

resource "microsoft365wp_conditional_access_policy" "test_combined" {
  display_name = "TF Test Combined"
  conditions = {
    applications = {
      include_applications = ["All"]
    }
    users = {
      include_users = ["298fded6-b252-4166-a473-f405e935f58d"]
    }
    user_risk_levels = ["medium"]
  }
  grant_controls = {
    operator                = "AND"
    authentication_strength = { id = "00000000-0000-0000-0000-000000000003" }
    built_in_controls       = ["passwordChange"]
  }
  session_controls = {
    sign_in_frequency = {
      authentication_type = "primaryAndSecondaryAuthentication"
      frequency_interval  = "everyTime"
      is_enabled          = true
    }
  }
  state = "disabled"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `conditions` (Attributes) Specifies the rules that must be met for the policy to apply. Required. / Represents the type of conditions that govern when the policy applies. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessconditionset?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions))
- `display_name` (String) Specifies a display name for the conditionalAccessPolicy object.

### Optional

- `grant_controls` (Attributes) Specifies the grant controls that must be fulfilled to pass the policy. / Represents grant controls that must be fulfilled to pass the policy. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessgrantcontrols?view=graph-rest-beta (see [below for nested schema](#nestedatt--grant_controls))
- `session_controls` (Attributes) Specifies the session controls that are enforced after sign-in. / Represents session controls that are enforced after sign-in.
All the session controls inherit from [conditionalAccessSessionControl](conditionalaccesssessioncontrol.md). / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccesssessioncontrols?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls))
- `state` (String) Specifies the state of the conditionalAccessPolicy object. Required. / Possible values are: `enabled`, `disabled`, `enabledForReportingButNotEnforced`. The _provider_ default value is `"enabledForReportingButNotEnforced"`.

### Read-Only

- `created_date_time` (String) The Timestamp type represents date and time information using ISO 8601 format and is always in UTC time. For example, midnight UTC on Jan 1, 2014 is `2014-01-01T00:00:00Z`. Readonly.
- `id` (String) Specifies the identifier of a conditionalAccessPolicy object. Read-only.

<a id="nestedatt--conditions"></a>
### Nested Schema for `conditions`

Optional:

- `agent_id_risk_levels` (String) Agent identity risk levels included in the policy. This enumeration is multivalued. / Possible values are: `low`, `medium`, `high`, `unknownFutureValue`
- `applications` (Attributes) Applications and user actions included in and excluded from the policy. Required. / Represents the applications and user actions included in and excluded from the conditional access policy. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessapplications?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--applications))
- `authentication_flows` (Attributes) Authentication flows included in the policy scope. For more information, see [Conditional Access: Authentication flows](/entra/identity/conditional-access/concept-authentication-flows). / Represents the authentication flows in scope for the policy. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessauthenticationflows?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--authentication_flows))
- `client_app_types` (Set of String) Client application types included in the policy. Required. <br/><br/> The `easUnsupported` enumeration member is deprecated in favor of `exchangeActiveSync`, which includes EAS supported and unsupported platforms. / Possible values are: `all`, `browser`, `mobileAppsAndDesktopClients`, `exchangeActiveSync`, `easSupported`, `other`, `unknownFutureValue`. The _provider_ default value is `["all"]`.
- `client_applications` (Attributes) Client applications (service principals and workload identities) included in and excluded from the policy. Either **users** or **clientApplications** is required. / Represents client applications (service principals and workload identities) included in and excluded from the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessclientapplications?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--client_applications))
- `device_states` (Attributes) Device states in the policy. To be deprecated and removed. Use the **devices** property instead. / Represents device states in the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessdevicestates?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--device_states))
- `devices` (Attributes) Devices in the policy. / Represents devices in the scope of a [conditionalAccessTemplate](../resources/conditionalaccesstemplate.md) object. This resource is configured in the **conditionalAccessTemplate** resource > **details** property > **conditions** property > **devices** property. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessdevices?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--devices))
- `insider_risk_levels` (String) Insider risk levels included in the policy. The / Possible values are: `minor`, `moderate`, `elevated`, `unknownFutureValue`
- `locations` (Attributes) Locations included in and excluded from the policy. / Represents locations included in and excluded from the scope of a [conditional access policy](../resources/conditionalaccesspolicy.md). Locations can be [countries and regions](../resources/countrynamedlocation.md) or [IP addresses](../resources/ipnamedlocation.md). / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccesslocations?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--locations))
- `platforms` (Attributes) Platforms included in and excluded from the policy. / Platforms included in and excluded from the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessplatforms?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--platforms))
- `service_principal_risk_levels` (Set of String) Service principal risk levels included in the policy. / Possible values are: `low`, `medium`, `high`, `hidden`, `none`, `unknownFutureValue`. The _provider_ default value is `[]`.
- `sign_in_risk_levels` (Set of String) Sign-in risk levels included in the policy. Required. / Possible values are: `low`, `medium`, `high`, `hidden`, `none`, `unknownFutureValue`. The _provider_ default value is `[]`.
- `user_risk_levels` (Set of String) User risk levels included in the policy. Required. / Possible values are: `low`, `medium`, `high`, `hidden`, `none`, `unknownFutureValue`. The _provider_ default value is `[]`.
- `users` (Attributes) Users, groups, and roles included in and excluded from the policy. Either **users** or **clientApplications** is required. / Represents users, groups, and roles included in and excluded from the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessusers?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users))

<a id="nestedatt--conditions--applications"></a>
### Nested Schema for `conditions.applications`

Optional:

- `application_filter` (Attributes) Filter that defines the dynamic-application-syntax rule to include/exclude cloud applications. A filter can use custom security attributes to include/exclude applications. / Represents filter in the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessfilter?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--applications--application_filter))
- `exclude_applications` (Set of String) Can be one of the following: <li> The list of client IDs (**appId**) explicitly excluded from the policy.<li> `Office365` - For the list of apps included in `Office365`, see [Apps included in Conditional Access Office 365 app suite](/entra/identity/conditional-access/reference-office-365-application-contents) <li> `MicrosoftAdminPortals` - For more information, see [Conditional Access Target resources: Microsoft Admin Portals](/entra/identity/conditional-access/concept-conditional-access-cloud-apps#microsoft-admin-portals). The _provider_ default value is `[]`.
- `global_secure_access` (Attributes) Represents traffic profile for Global Secure Access. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessglobalsecureaccess?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--applications--global_secure_access))
- `include_applications` (Set of String) Can be one of the following: <li> The list of client IDs (**appId**) the policy applies to, unless explicitly excluded (in **excludeApplications**) <li> `All` <li> `Office365` - For the list of apps included in `Office365`, see [Apps included in Conditional Access Office 365 app suite](/entra/identity/conditional-access/reference-office-365-application-contents) <li> `MicrosoftAdminPortals` - For more information, see [Conditional Access Target resources: Microsoft Admin Portals](/entra/identity/conditional-access/concept-conditional-access-cloud-apps#microsoft-admin-portals). The _provider_ default value is `[]`.
- `include_authentication_context_class_references` (Set of String) Authentication context class references include. Supported values are `c1` through `c25`. The _provider_ default value is `[]`.
- `include_user_actions` (Set of String) User actions to include. Supported values are `urn:user:registersecurityinfo` and `urn:user:registerdevice`. The _provider_ default value is `[]`.
- `network_access` (Attributes) Represents traffic profile for Global Secure Access. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessnetworkaccess?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--applications--network_access))

<a id="nestedatt--conditions--applications--application_filter"></a>
### Nested Schema for `conditions.applications.application_filter`

Required:

- `mode` (String) Mode to use for the filter. Possible values are `include` or `exclude`. / Possible values are: `include`, `exclude`
- `rule` (String) Rule syntax is similar to that used for membership rules for groups in Microsoft Entra ID. For details, see [rules with multiple expressions](/azure/active-directory/enterprise-users/groups-dynamic-membership#rules-with-multiple-expressions)


<a id="nestedatt--conditions--applications--global_secure_access"></a>
### Nested Schema for `conditions.applications.global_secure_access`


<a id="nestedatt--conditions--applications--network_access"></a>
### Nested Schema for `conditions.applications.network_access`



<a id="nestedatt--conditions--authentication_flows"></a>
### Nested Schema for `conditions.authentication_flows`

Required:

- `transfer_methods` (String) Represents the transfer methods in scope for the policy. The / Possible values are: `none`, `deviceCodeFlow`, `authenticationTransfer`, `unknownFutureValue`


<a id="nestedatt--conditions--client_applications"></a>
### Nested Schema for `conditions.client_applications`

Optional:

- `agent_id_service_principal_filter` (Attributes) Filter that defines rules based on custom security attribute tags to include/exclude agent identities in the policy. / Represents filter in the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessfilter?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--client_applications--agent_id_service_principal_filter))
- `exclude_agent_id_service_principals` (Set of String) Agent identity object IDs excluded from the policy. The _provider_ default value is `[]`.
- `exclude_service_principals` (Set of String) Service principal IDs excluded from the policy scope. The _provider_ default value is `[]`.
- `include_agent_id_service_principals` (Set of String) Agent identity object IDs included in the policy. The _provider_ default value is `[]`.
- `include_service_principals` (Set of String) Service principal IDs included in the policy scope or `ServicePrincipalsInMyTenant`. The _provider_ default value is `[]`.
- `service_principal_filter` (Attributes) Filter that defines the dynamic-servicePrincipal-syntax rule to include/exclude service principals. A filter can use custom security attributes to include/exclude service principals. / Represents filter in the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessfilter?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--client_applications--service_principal_filter))

<a id="nestedatt--conditions--client_applications--agent_id_service_principal_filter"></a>
### Nested Schema for `conditions.client_applications.agent_id_service_principal_filter`

Required:

- `mode` (String) Mode to use for the filter. Possible values are `include` or `exclude`. / Possible values are: `include`, `exclude`
- `rule` (String) Rule syntax is similar to that used for membership rules for groups in Microsoft Entra ID. For details, see [rules with multiple expressions](/azure/active-directory/enterprise-users/groups-dynamic-membership#rules-with-multiple-expressions)


<a id="nestedatt--conditions--client_applications--service_principal_filter"></a>
### Nested Schema for `conditions.client_applications.service_principal_filter`

Required:

- `mode` (String) Mode to use for the filter. Possible values are `include` or `exclude`. / Possible values are: `include`, `exclude`
- `rule` (String) Rule syntax is similar to that used for membership rules for groups in Microsoft Entra ID. For details, see [rules with multiple expressions](/azure/active-directory/enterprise-users/groups-dynamic-membership#rules-with-multiple-expressions)



<a id="nestedatt--conditions--device_states"></a>
### Nested Schema for `conditions.device_states`

Optional:

- `exclude_states` (Set of String) States excluded from the scope of the policy. Possible values: `Compliant`, `DomainJoined`. The _provider_ default value is `[]`.
- `include_states` (Set of String) States in the scope of the policy. `All` is the only allowed value. The _provider_ default value is `[]`.


<a id="nestedatt--conditions--devices"></a>
### Nested Schema for `conditions.devices`

Optional:

- `device_filter` (Attributes) Filter that defines the dynamic-device-syntax rule to include/exclude devices. A filter can use device properties (such as extension attributes) to include/exclude them. Cannot be set if **includeDevices** or **excludeDevices** is set. / Represents filter in the policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessfilter?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--devices--device_filter))
- `exclude_device_states` (Set of String) . The _provider_ default value is `[]`.
- `exclude_devices` (Set of String) States excluded from the scope of the policy. Possible values: `Compliant`, `DomainJoined`. Cannot be set if **deviceFIlter** is set. The _provider_ default value is `[]`.
- `include_device_states` (Set of String) . The _provider_ default value is `[]`.
- `include_devices` (Set of String) States in the scope of the policy. `All` is the only allowed value. Cannot be set if **deviceFilter** is set. The _provider_ default value is `[]`.

<a id="nestedatt--conditions--devices--device_filter"></a>
### Nested Schema for `conditions.devices.device_filter`

Required:

- `mode` (String) Mode to use for the filter. Possible values are `include` or `exclude`. / Possible values are: `include`, `exclude`
- `rule` (String) Rule syntax is similar to that used for membership rules for groups in Microsoft Entra ID. For details, see [rules with multiple expressions](/azure/active-directory/enterprise-users/groups-dynamic-membership#rules-with-multiple-expressions)



<a id="nestedatt--conditions--locations"></a>
### Nested Schema for `conditions.locations`

Optional:

- `exclude_locations` (Set of String) Location IDs excluded from scope of policy. The _provider_ default value is `[]`.
- `include_locations` (Set of String) Location IDs in scope of policy unless explicitly excluded, `All`, or `AllTrusted`. The _provider_ default value is `[]`.


<a id="nestedatt--conditions--platforms"></a>
### Nested Schema for `conditions.platforms`

Required:

- `include_platforms` (Set of String) linux``. / Possible values are: `android`, `iOS`, `windows`, `windowsPhone`, `macOS`, `all`, `unknownFutureValue`, `linux`

Optional:

- `exclude_platforms` (Set of String) Possible values are: `android`, `iOS`, `windows`, `windowsPhone`, `macOS`, `all`, `unknownFutureValue`, `linux`. The _provider_ default value is `[]`.


<a id="nestedatt--conditions--users"></a>
### Nested Schema for `conditions.users`

Optional:

- `exclude_groups` (Set of String) Group IDs excluded from scope of policy. The _provider_ default value is `[]`.
- `exclude_guests_or_external_users` (Attributes) Internal guests or external users excluded from the policy scope. Optionally populated. / Represents internal guests and external users in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessguestsorexternalusers?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--exclude_guests_or_external_users))
- `exclude_roles` (Set of String) Role IDs excluded from scope of policy. The _provider_ default value is `[]`.
- `exclude_users` (Set of String) User IDs excluded from scope of policy and/or `GuestsOrExternalUsers`. The _provider_ default value is `[]`.
- `include_groups` (Set of String) Group IDs in scope of policy unless explicitly excluded. The _provider_ default value is `[]`.
- `include_guests_or_external_users` (Attributes) Internal guests or external users included in the policy scope. Optionally populated. / Represents internal guests and external users in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessguestsorexternalusers?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--include_guests_or_external_users))
- `include_roles` (Set of String) Role IDs in scope of policy unless explicitly excluded. The _provider_ default value is `[]`.
- `include_users` (Set of String) User IDs in scope of policy unless explicitly excluded, `None`, `All`, or `GuestsOrExternalUsers`. The _provider_ default value is `[]`.

<a id="nestedatt--conditions--users--exclude_guests_or_external_users"></a>
### Nested Schema for `conditions.users.exclude_guests_or_external_users`

Required:

- `guest_or_external_user_types` (String) Indicates internal guests or external user types, and is a multi-valued property. / Possible values are: `none`, `internalGuest`, `b2bCollaborationGuest`, `b2bCollaborationMember`, `b2bDirectConnectUser`, `otherExternalUser`, `serviceProvider`, `unknownFutureValue`

Optional:

- `external_tenants` (Attributes) The tenant IDs of the selected types of external users. Either all B2B tenant or a collection of tenant IDs. External tenants can be specified only when the property **guestOrExternalUserTypes** isn't `null` or an empty String. / An abstract type that represents external tenants in a policy scope.

Base type of [conditionalAccessAllExternalTenants](../resources/conditionalaccessallexternaltenants.md) and [conditionalAccessEnumeratedExternalTenants](conditionalaccessenumeratedexternaltenants.md). / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants))

<a id="nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants"></a>
### Nested Schema for `conditions.users.exclude_guests_or_external_users.external_tenants`

Optional:

- `all` (Attributes) Represents all external tenants in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessallexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants--all))
- `enumerated` (Attributes) Represents a list of external tenants in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessenumeratedexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants--enumerated))
- `membership_kind` (String) The membership kind. The `enumerated` member references an [conditionalAccessEnumeratedExternalTenants](conditionalaccessenumeratedexternaltenants.md) object. / Possible values are: `all`, `enumerated`, `unknownFutureValue`

<a id="nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants--all"></a>
### Nested Schema for `conditions.users.exclude_guests_or_external_users.external_tenants.all`


<a id="nestedatt--conditions--users--exclude_guests_or_external_users--external_tenants--enumerated"></a>
### Nested Schema for `conditions.users.exclude_guests_or_external_users.external_tenants.enumerated`

Required:

- `members` (Set of String) A collection of tenant IDs that define the scope of a policy targeting conditional access for guests and external users.




<a id="nestedatt--conditions--users--include_guests_or_external_users"></a>
### Nested Schema for `conditions.users.include_guests_or_external_users`

Required:

- `guest_or_external_user_types` (String) Indicates internal guests or external user types, and is a multi-valued property. / Possible values are: `none`, `internalGuest`, `b2bCollaborationGuest`, `b2bCollaborationMember`, `b2bDirectConnectUser`, `otherExternalUser`, `serviceProvider`, `unknownFutureValue`

Optional:

- `external_tenants` (Attributes) The tenant IDs of the selected types of external users. Either all B2B tenant or a collection of tenant IDs. External tenants can be specified only when the property **guestOrExternalUserTypes** isn't `null` or an empty String. / An abstract type that represents external tenants in a policy scope.

Base type of [conditionalAccessAllExternalTenants](../resources/conditionalaccessallexternaltenants.md) and [conditionalAccessEnumeratedExternalTenants](conditionalaccessenumeratedexternaltenants.md). / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--include_guests_or_external_users--external_tenants))

<a id="nestedatt--conditions--users--include_guests_or_external_users--external_tenants"></a>
### Nested Schema for `conditions.users.include_guests_or_external_users.external_tenants`

Optional:

- `all` (Attributes) Represents all external tenants in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessallexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--include_guests_or_external_users--external_tenants--all))
- `enumerated` (Attributes) Represents a list of external tenants in a policy scope. / https://learn.microsoft.com/en-us/graph/api/resources/conditionalaccessenumeratedexternaltenants?view=graph-rest-beta (see [below for nested schema](#nestedatt--conditions--users--include_guests_or_external_users--external_tenants--enumerated))
- `membership_kind` (String) The membership kind. The `enumerated` member references an [conditionalAccessEnumeratedExternalTenants](conditionalaccessenumeratedexternaltenants.md) object. / Possible values are: `all`, `enumerated`, `unknownFutureValue`

<a id="nestedatt--conditions--users--include_guests_or_external_users--external_tenants--all"></a>
### Nested Schema for `conditions.users.include_guests_or_external_users.external_tenants.all`


<a id="nestedatt--conditions--users--include_guests_or_external_users--external_tenants--enumerated"></a>
### Nested Schema for `conditions.users.include_guests_or_external_users.external_tenants.enumerated`

Required:

- `members` (Set of String) A collection of tenant IDs that define the scope of a policy targeting conditional access for guests and external users.






<a id="nestedatt--grant_controls"></a>
### Nested Schema for `grant_controls`

Required:

- `operator` (String) Defines the relationship of the grant controls. Possible values: `AND`, `OR`.

Optional:

- `authentication_strength` (Attributes) The authentication strength required by the conditional access policy. Optional. / A collection of settings that define specific combinations of authentication methods and metadata. The authentication strength policy, when applied to a given scenario using Microsoft Entra Conditional Access, defines which authentication methods must be used to authenticate in that scenario. An authentication strength may be built-in or custom (defined by the tenant) and may or may not fulfill the requirements to grant an MFA claim. / https://learn.microsoft.com/en-us/graph/api/resources/authenticationstrengthpolicy?view=graph-rest-beta (see [below for nested schema](#nestedatt--grant_controls--authentication_strength))
- `built_in_controls` (Set of String) List of values of built-in controls required by the policy. Possible values: `block`, `mfa`, `compliantDevice`, `domainJoinedDevice`, `approvedApplication`, `compliantApplication`, `passwordChange`, `unknownFutureValue`. / Possible values are: `block`, `mfa`, `compliantDevice`, `domainJoinedDevice`, `approvedApplication`, `compliantApplication`, `passwordChange`, `unknownFutureValue`, `riskRemediation`. The _provider_ default value is `[]`.
- `custom_authentication_factors` (Set of String) List of custom controls IDs required by the policy. To learn more about custom control, see [Custom controls (preview)](/azure/active-directory/conditional-access/controls#custom-controls-preview). The _provider_ default value is `[]`.
- `terms_of_use` (Set of String) List of [terms of use](agreement.md) IDs required by the policy. The _provider_ default value is `[]`.

<a id="nestedatt--grant_controls--authentication_strength"></a>
### Nested Schema for `grant_controls.authentication_strength`

Required:

- `id` (String) The system-generated identifier for this mode.

Read-Only:

- `allowed_combinations` (Set of String) A collection of authentication method modes that are required be used to satify this authentication strength. / Possible values are: `password`, `voice`, `hardwareOath`, `softwareOath`, `sms`, `fido2`, `windowsHelloForBusiness`, `microsoftAuthenticatorPush`, `deviceBasedPush`, `temporaryAccessPassOneTime`, `temporaryAccessPassMultiUse`, `email`, `x509CertificateSingleFactor`, `x509CertificateMultiFactor`, `federatedSingleFactor`, `federatedMultiFactor`, `unknownFutureValue`, `qrCodePin`
- `created_date_time` (String) The datetime when this policy was created.
- `description` (String) The human-readable description of this policy.
- `display_name` (String) The human-readable display name of this policy. <br><br>Supports `$filter` (`eq`, `ne`, `not` , and `in`).
- `modified_date_time` (String) The datetime when this policy was last modified.
- `policy_type` (String) A descriptor of whether this policy is built into Microsoft Entra Conditional Access or created by an admin for the tenant. The <br><br>Supports `$filter` (`eq`, `ne`, `not` , and `in`). / Possible values are: `builtIn`, `custom`, `unknownFutureValue`
- `requirements_satisfied` (String) A descriptor of whether this authentication strength grants the MFA claim upon successful satisfaction. The / Possible values are: `none`, `mfa`, `unknownFutureValue`



<a id="nestedatt--session_controls"></a>
### Nested Schema for `session_controls`

Optional:

- `application_enforced_restrictions` (Attributes) Session control to enforce application restrictions. Only Exchange Online and Sharepoint Online support this session control. / Session control to enforce application restrictions. Inherit from [Conditional Access Session Control](conditionalaccesssessioncontrol.md). / https://learn.microsoft.com/en-us/graph/api/resources/applicationenforcedrestrictionssessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--application_enforced_restrictions))
- `cloud_app_security` (Attributes) Session control to apply cloud app security. / Session control used to enforce cloud app security checks. Inehrits from [Conditional Access Session Control](conditionalaccesssessioncontrol.md). / https://learn.microsoft.com/en-us/graph/api/resources/cloudappsecuritysessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--cloud_app_security))
- `continuous_access_evaluation` (Attributes) Session control for continuous access evaluation settings. / Session control to control continuous access evaluation settings. / https://learn.microsoft.com/en-us/graph/api/resources/continuousaccessevaluationsessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--continuous_access_evaluation))
- `disable_resilience_defaults` (Boolean) Session control that determines whether it's acceptable for Microsoft Entra ID to extend existing sessions based on information collected prior to an outage or not. The _provider_ default value is `false`.
- `global_secure_access_filtering_profile` (Attributes) Session control to link to Global Secure Access security profiles or filtering profiles. / Session control to link to a Global Secure Access security profile or filtering profile. / https://learn.microsoft.com/en-us/graph/api/resources/globalsecureaccessfilteringprofilesessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--global_secure_access_filtering_profile))
- `persistent_browser` (Attributes) Session control to define whether to persist cookies or not. All apps should be selected for this session control to work correctly. / Session control to define whether to persist cookies or not. / https://learn.microsoft.com/en-us/graph/api/resources/persistentbrowsersessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--persistent_browser))
- `secure_sign_in_session` (Attributes) Session control to require sign in sessions to be bound to a device. / Session control to require sign in sessions to be bound to a device. / https://learn.microsoft.com/en-us/graph/api/resources/securesigninsessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--secure_sign_in_session))
- `sign_in_frequency` (Attributes) Session control to enforce signin frequency. / Session control to enforce sign-in frequency. / https://learn.microsoft.com/en-us/graph/api/resources/signinfrequencysessioncontrol?view=graph-rest-beta (see [below for nested schema](#nestedatt--session_controls--sign_in_frequency))

<a id="nestedatt--session_controls--application_enforced_restrictions"></a>
### Nested Schema for `session_controls.application_enforced_restrictions`

Optional:

- `is_enabled` (Boolean) Specifies whether the session control is enabled or not.


<a id="nestedatt--session_controls--cloud_app_security"></a>
### Nested Schema for `session_controls.cloud_app_security`

Optional:

- `cloud_app_security_type` (String) To learn more about these values, [Deploy Conditional Access App Control for featured apps](/cloud-app-security/proxy-deployment-aad#step-1--configure-your-idp-to-work-with-cloud-app-security). / Possible values are: `mcasConfigured`, `monitorOnly`, `blockDownloads`, `unknownFutureValue`
- `is_enabled` (Boolean) Specifies whether the session control is enabled.


<a id="nestedatt--session_controls--continuous_access_evaluation"></a>
### Nested Schema for `session_controls.continuous_access_evaluation`

Optional:

- `mode` (String) Specifies continuous access evaluation settings. The Use the `Prefer: include-unknown-enum-members` request header to get the following value(s) in this [evolvable enum](/graph/best-practices-concept#handling-future-members-in-evolvable-enumerations): `strictLocation`. / Possible values are: `strictEnforcement`, `disabled`, `unknownFutureValue`, `strictLocation`


<a id="nestedatt--session_controls--global_secure_access_filtering_profile"></a>
### Nested Schema for `session_controls.global_secure_access_filtering_profile`

Optional:

- `is_enabled` (Boolean) Specifies whether the session control is enabled.
- `profile_id` (String) Specifies the distinct identifier that is assigned to the security profile or filtering profile. The _provider_ default value is `""`.


<a id="nestedatt--session_controls--persistent_browser"></a>
### Nested Schema for `session_controls.persistent_browser`

Optional:

- `is_enabled` (Boolean) Specifies whether the session control is enabled.
- `mode` (String) Possible values are: `always`, `never`


<a id="nestedatt--session_controls--secure_sign_in_session"></a>
### Nested Schema for `session_controls.secure_sign_in_session`

Optional:

- `is_enabled` (Boolean) Specifies whether the session control is enabled.


<a id="nestedatt--session_controls--sign_in_frequency"></a>
### Nested Schema for `session_controls.sign_in_frequency`

Optional:

- `authentication_type` (String) The possible values are `primaryAndSecondaryAuthentication`, `secondaryAuthentication`, `unknownFutureValue`. This property isn't required when using **frequencyInterval** with the value of `timeBased`. / Possible values are: `primaryAndSecondaryAuthentication`, `secondaryAuthentication`, `unknownFutureValue`
- `frequency_interval` (String) The possible values are `timeBased`, `everyTime`, `unknownFutureValue`. Sign-in frequency of `everyTime` is available for risky users, risky sign-ins, Intune device enrollment, any application, authentication context, and user actions. For more information, see [Require reauthentication every time](https://aka.ms/RequireReauthentication). / Possible values are: `timeBased`, `everyTime`, `unknownFutureValue`
- `is_enabled` (Boolean) Specifies whether the session control is enabled.
- `type` (String) or `null` if **frequencyInterval** is `everyTime` . / Possible values are: `days`, `hours`
- `value` (Number) The number of `days` or `hours`.
