---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "microsoft365wp_cloud_pc_provisioning_policy Resource - microsoft365wp"
subcategory: ""
description: |-
  https://learn.microsoft.com/en-us/graph/api/resources/cloudPcProvisioningPolicy?view=graph-rest-beta
---

# microsoft365wp_cloud_pc_provisioning_policy (Resource)

https://learn.microsoft.com/en-us/graph/api/resources/cloudPcProvisioningPolicy?view=graph-rest-beta

## Example Usage

```terraform
terraform {
  required_providers {
    microsoft365wp = {
      source = "terraprovider/microsoft365wp"
    }
  }
}

/*
.env
export ARM_TENANT_ID='...'
export ARM_CLIENT_ID='...'
export ARM_CLIENT_SECRET='...'
*/


resource "microsoft365wp_cloud_pc_provisioning_policy" "test_dedicated" {
  display_name = "TF Test - dedicated"

  image_id          = "microsoftwindowsdesktop_windows-ent-cpc_win11-23h2-ent-cpc-m365"
  provisioning_type = "dedicated"

  windows_setting = {
    locale = "en-US"
  }

  domain_join_configurations = [{ region_group = "europeUnion" }]

  assignments = [
    for x in [
      "298fded6-b252-4166-a473-f405e935f58d",
      "62e39046-aad3-4423-98e0-b486e3538aff",
    ] :
    { target = { group = { group_id = x } } }
  ]
}


resource "microsoft365wp_cloud_pc_provisioning_policy" "test_shared" {
  display_name = "TF Test - shared"

  image_id          = "microsoftwindowsdesktop_windows-ent-cpc_win11-23h2-ent-cpc-m365"
  provisioning_type = "shared"

  windows_setting = {
    locale = "en-US"
  }

  domain_join_configurations = [{ region_group = "europeUnion" }]

  assignments = [
    for x in [
      "298fded6-b252-4166-a473-f405e935f58d",
      "62e39046-aad3-4423-98e0-b486e3538aff",
    ] :
    { target = { group = {
      group_id        = x
      service_plan_id = "51855c77-4d2e-4736-be67-6dca605f2b57" // CPC_S_2C_4GB_128GB / Windows 365 Shared Use 2 vCPU, 4 GB, 128 GB
    } } }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String)
- `image_id` (String)

### Optional

- `alternate_resource_url` (String)
- `assignments` (Attributes Set) https://learn.microsoft.com/en-us/graph/api/resources/cloudPcProvisioningPolicyAssignment?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments))
- `autopatch` (Attributes) (see [below for nested schema](#nestedatt--autopatch))
- `cloud_pc_group_display_name` (String)
- `cloud_pc_naming_template` (String)
- `description` (String)
- `domain_join_configurations` (Attributes Set) https://learn.microsoft.com/en-us/graph/api/resources/cloudPcDomainJoinConfiguration?view=graph-rest-beta (see [below for nested schema](#nestedatt--domain_join_configurations))
- `enable_single_sign_on` (Boolean)
- `grace_period_in_hours` (Number)
- `image_type` (String)
- `local_admin_enabled` (Boolean)
- `managed_by` (String)
- `microsoft_managed_desktop` (Attributes) https://learn.microsoft.com/en-us/graph/api/resources/microsoftManagedDesktop?view=graph-rest-beta (see [below for nested schema](#nestedatt--microsoft_managed_desktop))
- `provisioning_type` (String)
- `scope_ids` (Set of String)
- `windows_setting` (Attributes) https://learn.microsoft.com/en-us/graph/api/resources/cloudPcWindowsSetting?view=graph-rest-beta (see [below for nested schema](#nestedatt--windows_setting))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `target` (Attributes) https://learn.microsoft.com/en-us/graph/api/resources/cloudPcManagementAssignmentTarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target))

<a id="nestedatt--assignments--target"></a>
### Nested Schema for `assignments.target`

Optional:

- `group` (Attributes) https://learn.microsoft.com/en-us/graph/api/resources/cloudPcManagementGroupAssignmentTarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--group))

<a id="nestedatt--assignments--target--group"></a>
### Nested Schema for `assignments.target.group`

Required:

- `group_id` (String)

Optional:

- `allotment_display_name` (String)
- `allotment_licenses_count` (Number)
- `service_plan_id` (String)




<a id="nestedatt--autopatch"></a>
### Nested Schema for `autopatch`

Optional:

- `autopatch_group_id` (String)


<a id="nestedatt--domain_join_configurations"></a>
### Nested Schema for `domain_join_configurations`

Optional:

- `domain_join_type` (String)
- `on_premises_connection_id` (String)
- `region_group` (String)
- `region_name` (String)
- `type` (String)


<a id="nestedatt--microsoft_managed_desktop"></a>
### Nested Schema for `microsoft_managed_desktop`

Optional:

- `managed_type` (String)
- `profile` (String)
- `type` (String)


<a id="nestedatt--windows_setting"></a>
### Nested Schema for `windows_setting`

Optional:

- `locale` (String)


