---
page_title: "microsoft365wp_cloud_pc_provisioning_policy Data Source - microsoft365wp"
subcategory: "MS Graph: Cloud PC"
---

# microsoft365wp_cloud_pc_provisioning_policy (Data Source)

Represents a Cloud PC provisioning policy. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcprovisioningpolicy?view=graph-rest-beta

## Documentation Disclaimer

Please note that almost all information on this page has been sourced literally from the official Microsoft Graph API 
documentation and therefore is governed by Microsoft and not by the publishers of this provider.  
All supplements authored by the publishers of this provider have been explicitly marked as such.

## Query Filters (if Supported)

If filtering by attribute values is supported (see schema below), then values set by the practitioner inside the config 
will be translated to a respective OData `$filter` clause. For string attributes (except enumerations!), simple 
wildcards (`*`) are supported at the start and/or the end of the attribute value or else exactly once inside and will be 
translated to corresponding OData predicates and functions (i.e. `eq`, `startswith`, `endswith` and `contains`). 
Multiple filter clauses will be combined using ` and `.  
If supported (see schema below), the attributes `odata_filter`, `odata_orderby` and `odata_top` can also be used to 
provide literal values for the respective OData options.

If this is a data source that returns a single element (singular data source), then the resulting OData query must 
result in exactly one returned entity! If supported, `odata_top = 1` and `odata_orderby` may be used to select a single 
entity from a list.

Please note that in the end all OData clauses/options will have to be interpreted by MS Graph, so MS Graph might impose 
further restrictions on what functionality may be used in practice.

## Example Usage

```terraform
terraform {
  required_providers {
    microsoft365wp = {
      source = "terraprovider/microsoft365wp"
    }
  }
}

/*
.env
export ARM_TENANT_ID='...'
export ARM_CLIENT_ID='...'
export ARM_CLIENT_SECRET='...'
*/


data "microsoft365wp_cloud_pc_provisioning_policy" "one" {
  id = "65253455-13c4-4d7f-80f9-ca35deb8439e"
}

output "microsoft365wp_cloud_pc_provisioning_policy" {
  value = data.microsoft365wp_cloud_pc_provisioning_policy.one
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) The unique identifier associated with the provisioning policy. This ID is auto populated during the creation of a new provisioning policy. Supports `$filter`, `$select`, and `$orderBy`.

### Read-Only

- `alternate_resource_url` (String) The URL of the alternate resource that links to this provisioning policy.
- `assignments` (Attributes Set) A defined collection of provisioning policy assignments. Represents the set of Microsoft 365 groups and security groups in Microsoft Entra ID that have provisioning policy assigned. Returned only on `$expand`. For an example about how to get the assignments relationship, see [Get cloudPcProvisioningPolicy](../api/cloudpcprovisioningpolicy-get.md). / Represents a defined collection of provisioning policy assignments. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcprovisioningpolicyassignment?view=graph-rest-beta. (see [below for nested schema](#nestedatt--assignments))
- `autopatch` (Attributes) Indicates the Windows Autopatch settings for Cloud PCs using this provisioning policy. The settings take effect when the tenant enrolls in Autopatch and the **managedType** of the **microsoftManagedDesktop** property is set as `starterManaged`. Supports `$select`. / Indicates the Windows Autopatch settings for Cloud PCs using this provisioning policy. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcprovisioningpolicyautopatch?view=graph-rest-beta (see [below for nested schema](#nestedatt--autopatch))
- `autopilot_configuration` (Attributes) The specific settings for Windows Autopilot that enable Windows 365 customers to experience it on Cloud PC. Supports `$select`. / Represents specific settings for Windows Autopilot that enable Windows 365 customers to experience it on Cloud PC. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcautopilotconfiguration?view=graph-rest-beta (see [below for nested schema](#nestedatt--autopilot_configuration))
- `cloud_pc_group_display_name` (String) The display name of the Cloud PC group that the Cloud PCs reside in.
- `cloud_pc_naming_template` (String) The template used to name Cloud PCs provisioned using this policy. The template can contain custom text and replacement tokens, including `%USERNAME:x%` and `%RAND:x%`, which represent the user's name and a randomly generated number, respectively. For example, `CPC-%USERNAME:4%-%RAND:5%` means that the name of the Cloud PC starts with `CPC-`, followed by a four-character username, a `-` character, and then five random characters. The total length of the text generated by the template can't exceed 15 characters. Supports `$filter`, `$select`, and `$orderby`.
- `description` (String) The provisioning policy description. Supports `$filter`, `$select`, and `$orderBy`.
- `display_name` (String) The display name for the provisioning policy.
- `domain_join_configurations` (Attributes Set) Specifies a list ordered by priority on how Cloud PCs join Microsoft Entra ID (Azure AD). Supports `$select`. / Represents a defined configuration of how a provisioned Cloud PC device joins to Microsoft Entra ID. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcdomainjoinconfiguration?view=graph-rest-beta (see [below for nested schema](#nestedatt--domain_join_configurations))
- `enable_single_sign_on` (Boolean) `True` if single sign-on can access the provisioned Cloud PC. `False` indicates that the provisioned Cloud PC doesn't support this feature. Windows 365 users can use single sign-on to authenticate to Microsoft Entra ID with passwordless options (for example, FIDO keys) to access their Cloud PC. Optional.
- `grace_period_in_hours` (Number) The number of hours to wait before reprovisioning/deprovisioning happens.
- `image_display_name` (String) The display name of the operating system image that is used for provisioning. For example, `Windows 11 Preview + Microsoft 365 Apps 23H2 23H2`. Supports `$filter`, `$select`, and `$orderBy`.
- `image_id` (String) The unique identifier that represents an operating system image that is used for provisioning new Cloud PCs. The format for a gallery type image is: {publisherName_offerName_skuName}. Supported values for each of the parameters are:<ul><li>publisher: `Microsoftwindowsdesktop`</li> <li>offer: `windows-ent-cpc`</li> <li>sku: `21h1-ent-cpc-m365`, `21h1-ent-cpc-os`, `20h2-ent-cpc-m365`, `20h2-ent-cpc-os`, `20h1-ent-cpc-m365`, `20h1-ent-cpc-os`, `19h2-ent-cpc-m365`, and `19h2-ent-cpc-os`</li></ul> Supports `$filter`, `$select`, and `$orderBy`.
- `image_type` (String) The type of operating system image (custom or gallery) that is used for provisioning on Cloud PCs. Supports $filter, $select, and $orderBy. / Possible values are: `gallery`, `custom`, `unknownFutureValue`.
- `local_admin_enabled` (Boolean) When `true`, the local admin is enabled for Cloud PCs; `false` indicates that the local admin isn't enabled for Cloud PCs. Supports `$filter`, `$select`, and `$orderBy`.
- `managed_by` (String) Indicates the service that manages the provisioning policy. Use the `Prefer: include-unknown-enum-members` request header to get the following value in this [evolvable enum](/graph/best-practices-concept#handling-future-members-in-evolvable-enumerations): `rpaBox`. Supports `$filter`, `$select`, and `$orderBy`. / Possible values are: `windows365`, `devBox`, `unknownFutureValue`, `rpaBox`.
- `microsoft_managed_desktop` (Attributes) The specific settings to **microsoftManagedDesktop** that enables Microsoft Managed Desktop customers to get device managed experience for Cloud PC. To enable **microsoftManagedDesktop** to provide more value, an admin needs to specify certain settings in it. Supports `$filter`, `$select`, and `$orderBy`. / Represents specific settings for the Microsoft Managed Desktop that enables customers to get a managed device experience for a Cloud PC. / https://learn.microsoft.com/en-us/graph/api/resources/microsoftmanageddesktop?view=graph-rest-beta. (see [below for nested schema](#nestedatt--microsoft_managed_desktop))
- `provisioning_type` (String) Specifies the type of licenses to be used when provisioning Cloud PCs using this policy. The possible values are `dedicated`, `shared`, `unknownFutureValue`, `sharedByUser`, `sharedByEntraGroup`. Use the `Prefer: include-unknown-enum-members` request header to get the following values from this [evolvable enum](/graph/best-practices-concept#handling-future-members-in-evolvable-enumerations): `sharedByUser`, `sharedByEntraGroup`. The `shared` member is deprecated and will stop returning on April 30, 2027; going forward, use the `sharedByUser` member. For example, a `dedicated` service plan can be assigned to only one user and provision only one Cloud PC. The `shared` and `sharedByUser` plans require customers to purchase a shared service plan. Each shared license purchased can enable up to three Cloud PCs, with only one user signed in at a time. The `sharedByEntraGroup` plan also requires the purchase of a shared service plan. Each shared license under this plan can enable one Cloud PC, which is shared for the group according to the assignments of this policy. By default, the license type is `dedicated` if the **provisioningType** isn't specified when you create the **cloudPcProvisioningPolicy**. You can't change this property after the **cloudPcProvisioningPolicy** is created. / Possible values are: `dedicated`, `shared`, `unknownFutureValue`, `sharedByUser`, `sharedByEntraGroup`
- `scope_ids` (Set of String) .
- `windows_setting` (Attributes) Indicates a specific Windows setting to configure during the creation of Cloud PCs for this provisioning policy. Supports `$select`. / Represents a specific Windows setting to configure during the creation of Cloud PCs for a provisioning policy. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcwindowssetting?view=graph-rest-beta (see [below for nested schema](#nestedatt--windows_setting))

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Read-Only:

- `target` (Attributes) The assignment target for the provisioning policy. Currently, the only target supported for this policy is a user group. For details, see [cloudPcManagementGroupAssignmentTarget](cloudpcmanagementgroupassignmenttarget.md). / Represents an abstract base type for assignment targets.

Base type of [cloudPcManagementGroupAssignmentTarget](cloudpcmanagementgroupassignmenttarget.md). / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcmanagementassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target))

<a id="nestedatt--assignments--target"></a>
### Nested Schema for `assignments.target`

Read-Only:

- `group` (Attributes) Complex type that represents the assignment target group. / https://learn.microsoft.com/en-us/graph/api/resources/cloudpcmanagementgroupassignmenttarget?view=graph-rest-beta (see [below for nested schema](#nestedatt--assignments--target--group))

<a id="nestedatt--assignments--target--group"></a>
### Nested Schema for `assignments.target.group`

Read-Only:

- `allotment_display_name` (String)
- `allotment_licenses_count` (Number)
- `group_id` (String) The ID of the target group for the assignment.
- `service_plan_id` (String) The unique identifier for the service plan that indicates which size of the Cloud PC to provision for the user. Use a `null` value, when the **provisioningType** is `dedicated`.




<a id="nestedatt--autopatch"></a>
### Nested Schema for `autopatch`

Read-Only:

- `autopatch_group_id` (String) The unique identifier (ID) of a Windows Autopatch group. An Autopatch group is a logical container or unit that groups several Microsoft Entra groups and software update policies. Devices with the same Autopatch group ID share unified software update management. that indicates that no Autopatch group is associated with the provisioning policy.


<a id="nestedatt--autopilot_configuration"></a>
### Nested Schema for `autopilot_configuration`

Read-Only:

- `application_timeout_in_minutes` (Number) Indicates the number of minutes allowed for the Autopilot application to apply the device preparation profile (DPP) configurations to the device. If the Autopilot application doesn't finish within the specified time (**applicationTimeoutInMinutes**), the application error is added to the **statusDetail** property of the [cloudPC](../resources/cloudpc.md) object. The supported value is an integer between 10 and 360. Required.
- `device_preparation_profile_id` (String) The unique identifier (ID) of the Autopilot device preparation profile (DPP) that links a Windows Autopilot device preparation policy to ensure that devices are ready for users after provisioning. Required.
- `on_failure_device_access_denied` (Boolean) Indicates whether the access to the device is allowed when the application of Autopilot device preparation profile (DPP) configurations fails or times out. If `true`, the **status** of the device is `failed` and the device is unable to access; otherwise, the **status** of the device is `provisionedWithWarnings` and the device is allowed to access. Required.


<a id="nestedatt--domain_join_configurations"></a>
### Nested Schema for `domain_join_configurations`

Read-Only:

- `domain_join_type` (String) Specifies the method by which the provisioned Cloud PC joins Microsoft Entra ID. If you choose the `hybridAzureADJoin` type, only provide a value for the **onPremisesConnectionId** property and leave the **regionName** property empty. If you choose the `azureADJoin` type, provide a value for either the **onPremisesConnectionId** or the **regionName** property. / Possible values are: `azureADJoin`, `hybridAzureADJoin`, `unknownFutureValue`.
- `on_premises_connection_id` (String) The Azure network connection ID that matches the virtual network IT admins want the provisioning policy to use when they create Cloud PCs. You can use this property in both domain join types: _Azure AD joined_ or _Hybrid Microsoft Entra joined_. If you enter an **onPremisesConnectionId**, leave the **regionName** property empty.
- `region_group` (String) The logical geographic group this region belongs to. Multiple regions can belong to one region group. A customer can select a **regionGroup** when they provision a Cloud PC, and the Cloud PC is put in one of the regions in the group based on resource status. For example, the Europe region group contains the Northern Europe and Western Europe regions. Use the `Prefer: include-unknown-enum-members` request header to get the following values in this [evolvable enum](/graph/best-practices-concept#handling-future-members-in-evolvable-enumerations): `norway`, `switzerland`, `southKorea`, `middleEast`, `mexico`, `australasia`, `europe`. / Possible values are: `default`, `australia`, `canada`, `usCentral`, `usEast`, `usWest`, `france`, `germany`, `europeUnion`, `unitedKingdom`, `japan`, `asia`, `india`, `southAmerica`, `euap`, `usGovernment`, `usGovernmentDOD`, `unknownFutureValue`, `norway`, `switzerland`, `southKorea`, `middleEast`, `mexico`, `australasia`, `europe`
- `region_name` (String) The supported Azure region where the IT admin wants the provisioning policy to create Cloud PCs. The underlying virtual network is created and managed by the Windows 365 service. This can only be entered if the IT admin chooses Microsoft Entra joined as the domain join type. If you enter a **regionName**, leave the **onPremisesConnectionId** property empty.
- `type` (String) Possible values are: `azureADJoin`, `hybridAzureADJoin`, `unknownFutureValue`.


<a id="nestedatt--microsoft_managed_desktop"></a>
### Nested Schema for `microsoft_managed_desktop`

Read-Only:

- `managed_type` (String) Indicates the provisioning policy associated with Microsoft Managed Desktop settings. / Possible values are: `notManaged`, `premiumManaged`, `standardManaged`, `starterManaged`, `unknownFutureValue`.
- `profile` (String) The name of the Microsoft Managed Desktop profile that the Windows 365 Cloud PC is associated with.
- `type` (String) Possible values are: `notManaged`, `premiumManaged`, `standardManaged`, `starterManaged`, `unknownFutureValue`.


<a id="nestedatt--windows_setting"></a>
### Nested Schema for `windows_setting`

Read-Only:

- `locale` (String) The Windows language or region tag to use for language pack configuration and localization of the Cloud PC. which corresponds to English (United States).
